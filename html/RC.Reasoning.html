<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>RC.Reasoning</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library RC.Reasoning</h1>

<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Logic.Classical_Prop.html#"><span class="id" title="library">Classical_Prop</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith.Arith</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool.Bool</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">Strings.String</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Logic.FunctionalExtensionality</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <br/>
&nbsp;&nbsp;<a class="idref" href="RC.CpdtTactics.html#"><span class="id" title="library">CpdtTactics</span></a> <a class="idref" href="RC.TacticsMatch.html#"><span class="id" title="library">TacticsMatch</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Utilities.html#"><span class="id" title="library">Utilities</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Decidability.html#"><span class="id" title="library">Decidability</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#"><span class="id" title="library">ListUtil</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Iteration.html#"><span class="id" title="library">Iteration</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Act.html#"><span class="id" title="library">Act</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Sorts.html#"><span class="id" title="library">Sorts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Term.html#"><span class="id" title="library">Term</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Role.html#"><span class="id" title="library">Role</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#"><span class="id" title="library">Proc</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.SaturationRules.html#"><span class="id" title="library">SaturationRules</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.SaturationLoop.html#"><span class="id" title="library">SaturationLoop</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.SaturationClass.html#"><span class="id" title="library">SaturationClass</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#"><span class="id" title="library">Compile</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.roleToRole.html#"><span class="id" title="library">roleToRole</span></a><br/>
.<br/>

<br/>
</div>

<div class="doc">
need this technical lemma in several places 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_map_act_map_mono" class="idref" href="#list_map_act_map_mono"><span class="id" title="lemma">list_map_act_map_mono</span></a> <a id="pr:1" class="idref" href="#pr:1"><span class="id" title="binder">pr</span></a> <a id="x:2" class="idref" href="#x:2"><span class="id" title="binder">x</span></a> <a id="d:3" class="idref" href="#d:3"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="u:4" class="idref" href="#u:4"><span class="id" title="binder">u</span></a> <a id="l:5" class="idref" href="#l:5"><span class="id" title="binder">l</span></a>, <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#pr:1"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#u:4"><span class="id" title="variable">u</span></a> <a class="idref" href="RC.Reasoning.html#l:5"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:2"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#u:4"><span class="id" title="variable">u</span></a> <a class="idref" href="RC.Reasoning.html#l:5"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#List_mapR"><span class="id" title="inductive">List_mapR</span></a> (<a class="idref" href="RC.Act.html#Act_mapR"><span class="id" title="inductive">Act_mapR</span></a> (<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#pr:1"><span class="id" title="variable">pr</span></a>)) <a class="idref" href="RC.Reasoning.html#d:3"><span class="id" title="variable">d</span></a> (<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:1"><span class="id" title="variable">pr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#List_mapR"><span class="id" title="inductive">List_mapR</span></a> (<a class="idref" href="RC.Act.html#Act_mapR"><span class="id" title="inductive">Act_mapR</span></a> (<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:2"><span class="id" title="variable">x</span></a>)) <a class="idref" href="RC.Reasoning.html#d:3"><span class="id" title="variable">d</span></a> (<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:1"><span class="id" title="variable">pr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_mono"><span class="id" title="lemma">List_mapR_mono</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Act.html#Act_mapR"><span class="id" title="inductive">Act_mapR</span></a> (<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <span class="id" title="var">pr</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.Act.html#Act_mapR_mono"><span class="id" title="lemma">Act_mapR_mono</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <span class="id" title="var">pr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Reasoning" class="idref" href="#Reasoning"><span class="id" title="section">Reasoning</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Reasoning.rl" class="idref" href="#Reasoning.rl"><span class="id" title="variable">rl</span></a> : <a class="idref" href="RC.Role.html#Role"><span class="id" title="definition">Role</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="unv" class="idref" href="#unv"><span class="id" title="abbreviation">unv</span></a> := (<a class="idref" href="RC.Role.html#Subterms_of_role"><span class="id" title="definition">Subterms_of_role</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab160"></a><h1 class="section">Initial state is invariant</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="initial_state_is_invariant" class="idref" href="#initial_state_is_invariant"><span class="id" title="lemma">initial_state_is_invariant</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#initialize"><span class="id" title="definition">initialize</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#initialize"><span class="id" title="definition">initialize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.SaturationLoop.html#saturate"><span class="id" title="definition">saturate</span></a> <a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a> (<a class="idref" href="RC.Compile.html#initial_bindings"><span class="id" title="definition">initial_bindings</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#state_saturated"><span class="id" title="definition">state_saturated</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_gives_saturated"><span class="id" title="lemma">saturate_gives_saturated</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= <a class="idref" href="RC.Compile.html#initial_no_trace"><span class="id" title="lemma">initial_no_trace</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h0</span> := @<a class="idref" href="RC.SaturationLoop.html#saturate_trace"><span class="id" title="lemma">saturate_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Compile.html#initial_bindings"><span class="id" title="definition">initial_bindings</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab161"></a><h1 class="section">Cursor claim</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="step_preserves_cursor" class="idref" href="#step_preserves_cursor"><span class="id" title="lemma">step_preserves_cursor</span></a> (<a id="st:7" class="idref" href="#st:7"><span class="id" title="binder">st</span></a> :  <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:7"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:7"><span class="id" title="variable">st</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tr_todo</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">the_pr</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">e2</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">the_pr</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> ) <span class="id" title="var">eqn</span>:<span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_inv_head_iff"><span class="id" title="lemma">app_inv_head_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab162"></a><h1 class="section">Saturation claims</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_action_preserves_saturation" class="idref" href="#handle_action_preserves_saturation"><span class="id" title="lemma">handle_action_preserves_saturation</span></a>  <a id="pr:8" class="idref" href="#pr:8"><span class="id" title="binder">pr</span></a> <a id="act:9" class="idref" href="#act:9"><span class="id" title="binder">act</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.SaturationLoop.html#saturated_pr"><span class="id" title="definition">saturated_pr</span></a> <a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a> <a class="idref" href="RC.Reasoning.html#pr:8"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a>: <a class="idref" href="RC.Proc.html#Proc"><span class="id" title="definition">Proc</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:8"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#act:9"><span class="id" title="variable">act</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.SaturationLoop.html#saturated_pr"><span class="id" title="definition">saturated_pr</span></a> <a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a> <a class="idref" href="RC.Reasoning.html#x:10"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">x</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">act</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Prm"><span class="id" title="definition">handle_Prm</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_gives_saturated"><span class="id" title="lemma">saturate_gives_saturated</span></a>;  <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Ret"><span class="id" title="definition">handle_Ret</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_gives_saturated"><span class="id" title="lemma">saturate_gives_saturated</span></a>;  <span class="id" title="tactic">eauto</span>. <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Rcv"><span class="id" title="definition">handle_Rcv</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_gives_saturated"><span class="id" title="lemma">saturate_gives_saturated</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Snd"><span class="id" title="definition">handle_Snd</span></a> <span class="id" title="tactic">in</span> × .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_gives_saturated"><span class="id" title="lemma">saturate_gives_saturated</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab163"></a><h1 class="section">Trace claims</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_Prm_trace_results" class="idref" href="#handle_Prm_trace_results"><span class="id" title="lemma">handle_Prm_trace_results</span></a> <a id="pr:11" class="idref" href="#pr:11"><span class="id" title="binder">pr</span></a> <a id="t:12" class="idref" href="#t:12"><span class="id" title="binder">t</span></a> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_Prm"><span class="id" title="definition">handle_Prm</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:11"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#t:12"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:13"><span class="id" title="variable">x</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="l:14" class="idref" href="#l:14"><span class="id" title="binder">l</span></a>: <a class="idref" href="RC.Proc.html#loc"><span class="id" title="inductive">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:11"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[(</span></a><a class="idref" href="RC.Act.html#Prm"><span class="id" title="constructor">Prm</span></a> <a class="idref" href="RC.Reasoning.html#l:14"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">)]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#t:12"><span class="id" title="variable">t</span></a> <a class="idref" href="RC.Reasoning.html#l:14"><span class="id" title="variable">l</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Prm"><span class="id" title="definition">handle_Prm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="RC.Proc.html#fresh_loc"><span class="id" title="definition">fresh_loc</span></a> <span class="id" title="var">pr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.SaturationLoop.html#saturate_trace"><span class="id" title="lemma">saturate_trace</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Proc.html#Bind"><span class="id" title="constructor">Bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="RC.Proc.html#fresh_loc"><span class="id" title="definition">fresh_loc</span></a> <span class="id" title="var">pr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Proc.html#Param"><span class="id" title="constructor">Param</span></a> (<a class="idref" href="RC.Proc.html#fresh_input_index"><span class="id" title="definition">fresh_input_index</span></a> <span class="id" title="var">pr</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_Rcv_trace_results" class="idref" href="#handle_Rcv_trace_results"><span class="id" title="lemma">handle_Rcv_trace_results</span></a> <a id="pr:15" class="idref" href="#pr:15"><span class="id" title="binder">pr</span></a> <a id="ch:16" class="idref" href="#ch:16"><span class="id" title="binder">ch</span></a> <a id="t:17" class="idref" href="#t:17"><span class="id" title="binder">t</span></a> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_Rcv"><span class="id" title="definition">handle_Rcv</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:15"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#ch:16"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:18"><span class="id" title="variable">x</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="lch:19" class="idref" href="#lch:19"><span class="id" title="binder">lch</span></a> <a id="lt:20" class="idref" href="#lt:20"><span class="id" title="binder">lt</span></a>: <a class="idref" href="RC.Proc.html#loc"><span class="id" title="inductive">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:15"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="RC.Act.html#Rcv"><span class="id" title="constructor">Rcv</span></a> <a class="idref" href="RC.Reasoning.html#lch:19"><span class="id" title="variable">lch</span></a> <a class="idref" href="RC.Reasoning.html#lt:20"><span class="id" title="variable">lt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#ch:16"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#lch:19"><span class="id" title="variable">lch</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#t:17"><span class="id" title="variable">t</span></a> <a class="idref" href="RC.Reasoning.html#lt:20"><span class="id" title="variable">lt</span></a>  .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Rcv"><span class="id" title="definition">handle_Rcv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">ch</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">∃</span> (<a class="idref" href="RC.Proc.html#fresh_loc"><span class="id" title="definition">fresh_loc</span></a> <span class="id" title="var">pr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.SaturationLoop.html#saturate_trace"><span class="id" title="lemma">saturate_trace</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">pr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#first_loc_tdecl"><span class="id" title="lemma">first_loc_tdecl</span></a>. <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_in"><span class="id" title="lemma">subset_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="RC.Proc.html#Bind"><span class="id" title="constructor">Bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="RC.Proc.html#fresh_loc"><span class="id" title="definition">fresh_loc</span></a> <span class="id" title="var">pr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="RC.Proc.html#Read"><span class="id" title="constructor">Read</span></a> (<a class="idref" href="RC.Proc.html#fresh_read_index"><span class="id" title="definition">fresh_read_index</span></a> <span class="id" title="var">pr</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_Ret_trace_results" class="idref" href="#handle_Ret_trace_results"><span class="id" title="lemma">handle_Ret_trace_results</span></a> <a id="pr:21" class="idref" href="#pr:21"><span class="id" title="binder">pr</span></a> <a id="t:22" class="idref" href="#t:22"><span class="id" title="binder">t</span></a> <a id="prfinal:23" class="idref" href="#prfinal:23"><span class="id" title="binder">prfinal</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_Ret"><span class="id" title="definition">handle_Ret</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:21"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#prfinal:23"><span class="id" title="variable">prfinal</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a>: <a class="idref" href="RC.Proc.html#loc"><span class="id" title="inductive">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#prfinal:23"><span class="id" title="variable">prfinal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:21"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="RC.Act.html#Ret"><span class="id" title="constructor">Ret</span></a> <a class="idref" href="RC.Reasoning.html#l:24"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#prfinal:23"><span class="id" title="variable">prfinal</span></a> <a class="idref" href="RC.Reasoning.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="RC.Reasoning.html#l:24"><span class="id" title="variable">l</span></a>  .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Ret"><span class="id" title="definition">handle_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.SaturationLoop.html#saturate_trace"><span class="id" title="lemma">saturate_trace</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>: <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#first_loc_tdecl"><span class="id" title="lemma">first_loc_tdecl</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h3</span>: <a class="idref" href="RC.ListUtil.html#subset"><span class="id" title="definition">subset</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">prfinal</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_Snd_trace_results" class="idref" href="#handle_Snd_trace_results"><span class="id" title="lemma">handle_Snd_trace_results</span></a> <a id="pr:25" class="idref" href="#pr:25"><span class="id" title="binder">pr</span></a> <a id="ch:26" class="idref" href="#ch:26"><span class="id" title="binder">ch</span></a> <a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_Snd"><span class="id" title="definition">handle_Snd</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:25"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#ch:26"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:28"><span class="id" title="variable">x</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="lch:29" class="idref" href="#lch:29"><span class="id" title="binder">lch</span></a> <a id="lt:30" class="idref" href="#lt:30"><span class="id" title="binder">lt</span></a>: <a class="idref" href="RC.Proc.html#loc"><span class="id" title="inductive">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:25"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="RC.Act.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="RC.Reasoning.html#lch:29"><span class="id" title="variable">lch</span></a> <a class="idref" href="RC.Reasoning.html#lt:30"><span class="id" title="variable">lt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#ch:26"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#lch:29"><span class="id" title="variable">lch</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="RC.Reasoning.html#lt:30"><span class="id" title="variable">lt</span></a>  .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Snd"><span class="id" title="definition">handle_Snd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">ch</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">ech</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">et</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.SaturationLoop.html#saturate_trace"><span class="id" title="lemma">saturate_trace</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>: <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">ch</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#first_loc_tdecl"><span class="id" title="lemma">first_loc_tdecl</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h3</span>: <a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#first_loc_tdecl"><span class="id" title="lemma">first_loc_tdecl</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">h4</span>: <a class="idref" href="RC.ListUtil.html#subset"><span class="id" title="definition">subset</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">h4</span>: <a class="idref" href="RC.ListUtil.html#subset"><span class="id" title="definition">subset</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab164"></a><h1 class="section">Miscellaneous technical things</h1>

<div class="paragraph"> </div>

 Handling actions doesn't lose anything from the proc 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_action_increasing" class="idref" href="#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <a id="pr:31" class="idref" href="#pr:31"><span class="id" title="binder">pr</span></a> <a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:31"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#a:32"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:33"><span class="id" title="variable">x</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#subset"><span class="id" title="definition">subset</span></a> <a class="idref" href="RC.Reasoning.html#pr:31"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#x:33"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Prm"><span class="id" title="definition">handle_Prm</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Ret"><span class="id" title="definition">handle_Ret</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>  <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Rcv"><span class="id" title="definition">handle_Rcv</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>. <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_Snd"><span class="id" title="definition">handle_Snd</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Proc.html#first_loc_for"><span class="id" title="definition">first_loc_for</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="RC.SaturationLoop.html#saturate_superset"><span class="id" title="lemma">saturate_superset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>  <a class="idref" href="RC.ListUtil.html#subset_app_elim"><span class="id" title="lemma">subset_app_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">handle_action_increasing</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="handle_action_tdecls" class="idref" href="#handle_action_tdecls"><span class="id" title="lemma">handle_action_tdecls</span></a> <a id="pr:34" class="idref" href="#pr:34"><span class="id" title="binder">pr</span></a> <a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> <a id="x:36" class="idref" href="#x:36"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:34"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#x:36"><span class="id" title="variable">x</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="u:37" class="idref" href="#u:37"><span class="id" title="binder">u</span></a> <a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#pr:34"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#u:37"><span class="id" title="variable">u</span></a> <a class="idref" href="RC.Reasoning.html#l:38"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#x:36"><span class="id" title="variable">x</span></a> <a class="idref" href="RC.Reasoning.html#u:37"><span class="id" title="variable">u</span></a> <a class="idref" href="RC.Reasoning.html#l:38"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span> <span class="id" title="var">h1</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h2</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="step_preserves_state_saturation" class="idref" href="#step_preserves_state_saturation"><span class="id" title="lemma">step_preserves_state_saturation</span></a> (<a id="st:39" class="idref" href="#st:39"><span class="id" title="binder">st</span></a> : <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#state_saturated"><span class="id" title="definition">state_saturated</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:39"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#state_saturated"><span class="id" title="definition">state_saturated</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:39"><span class="id" title="variable">st</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">the_pr</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>: <a class="idref" href="RC.SaturationLoop.html#saturated_pr"><span class="id" title="definition">saturated_pr</span></a> <a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">tr_todo</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h0</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_preserves_saturation"><span class="id" title="lemma">handle_action_preserves_saturation</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">x0</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">tr_todo</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab165"></a><h1 class="section">Trace claims</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="output_msg_trace" class="idref" href="#output_msg_trace"><span class="id" title="lemma">output_msg_trace</span></a> <a id="pr:40" class="idref" href="#pr:40"><span class="id" title="binder">pr</span></a> <a id="t:41" class="idref" href="#t:41"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> (<a class="idref" href="RC.Reasoning.html#pr:40"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#output_msg"><span class="id" title="definition">output_msg</span></a> <a class="idref" href="RC.Reasoning.html#t:41"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:40"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="input_msg_trace" class="idref" href="#input_msg_trace"><span class="id" title="lemma">input_msg_trace</span></a> <a id="pr:42" class="idref" href="#pr:42"><span class="id" title="binder">pr</span></a> <a id="t:43" class="idref" href="#t:43"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> (<a class="idref" href="RC.Reasoning.html#pr:42"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#input_msg"><span class="id" title="definition">input_msg</span></a> <a class="idref" href="RC.Reasoning.html#t:43"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:42"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="send_msg_trace" class="idref" href="#send_msg_trace"><span class="id" title="lemma">send_msg_trace</span></a> <a id="pr:44" class="idref" href="#pr:44"><span class="id" title="binder">pr</span></a> <a id="ch:45" class="idref" href="#ch:45"><span class="id" title="binder">ch</span></a> <a id="t:46" class="idref" href="#t:46"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> (<a class="idref" href="RC.Reasoning.html#pr:44"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#send_msg"><span class="id" title="definition">send_msg</span></a> <a class="idref" href="RC.Reasoning.html#ch:45"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#t:46"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:44"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="recv_msg_trace" class="idref" href="#recv_msg_trace"><span class="id" title="lemma">recv_msg_trace</span></a> <a id="pr:47" class="idref" href="#pr:47"><span class="id" title="binder">pr</span></a> <a id="ch:48" class="idref" href="#ch:48"><span class="id" title="binder">ch</span></a> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> (<a class="idref" href="RC.Reasoning.html#pr:47"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#recv_msg"><span class="id" title="definition">recv_msg</span></a> <a class="idref" href="RC.Reasoning.html#ch:48"><span class="id" title="variable">ch</span></a> <a class="idref" href="RC.Reasoning.html#t:49"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:47"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pr</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RC.Proc.html#prtrace_app"><span class="id" title="lemma">prtrace_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab166"></a><h2 class="section">done_related invariant is  preserved</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="step_preserves_done_related" class="idref" href="#step_preserves_done_related"><span class="id" title="lemma">step_preserves_done_related</span></a> (<a id="st:50" class="idref" href="#st:50"><span class="id" title="binder">st</span></a> : <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <a class="idref" href="RC.Reasoning.html#st:50"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> (<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:50"><span class="id" title="variable">st</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= <a class="idref" href="RC.Compile.html#step_char"><span class="id" title="lemma">step_char</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h1</span> | <span class="id" title="var">h2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> [<span class="id" title="var">rest</span> [<span class="id" title="var">a</span> [<span class="id" title="var">pr</span> [<span class="id" title="var">P1</span> <span class="id" title="var">P2</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P1</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">P2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> × ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#handle_Prm_trace_results"><span class="id" title="lemma">handle_Prm_trace_results</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">P</span> <span class="id" title="var">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_snoc"><span class="id" title="lemma">List_mapR_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Reasoning.html#list_map_act_map_mono"><span class="id" title="lemma">list_map_act_map_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr</span> (<a class="idref" href="RC.Act.html#Prm"><span class="id" title="constructor">Prm</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span> <span class="id" title="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> × ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#handle_Ret_trace_results"><span class="id" title="lemma">handle_Ret_trace_results</span></a>  <span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">P1</span> <span class="id" title="var">P2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_snoc"><span class="id" title="lemma">List_mapR_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>  <a class="idref" href="RC.Reasoning.html#list_map_act_map_mono"><span class="id" title="lemma">list_map_act_map_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <span class="id" title="var">pr</span> (<a class="idref" href="RC.Act.html#Ret"><span class="id" title="constructor">Ret</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span> <span class="id" title="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> × ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#handle_Rcv_trace_results"><span class="id" title="lemma">handle_Rcv_trace_results</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lch</span> [<span class="id" title="var">lt</span> [<span class="id" title="var">P</span> [<span class="id" title="var">Q1</span> <span class="id" title="var">Q2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span>  ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_snoc"><span class="id" title="lemma">List_mapR_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Reasoning.html#list_map_act_map_mono"><span class="id" title="lemma">list_map_act_map_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr</span> (<a class="idref" href="RC.Act.html#Rcv"><span class="id" title="constructor">Rcv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#handle_action"><span class="id" title="definition">handle_action</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> × ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#handle_Snd_trace_results"><span class="id" title="lemma">handle_Snd_trace_results</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lch</span> [<span class="id" title="var">lt</span> [<span class="id" title="var">P1</span> [<span class="id" title="var">P2</span> <span class="id" title="var">P3</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_snoc"><span class="id" title="lemma">List_mapR_snoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>  <a class="idref" href="RC.Reasoning.html#list_map_act_map_mono"><span class="id" title="lemma">list_map_act_map_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.Reasoning.html#handle_action_increasing"><span class="id" title="lemma">handle_action_increasing</span></a> <span class="id" title="var">pr</span> (<a class="idref" href="RC.Act.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span>) <span class="id" title="var">x</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Proc.html#tdecl_mono"><span class="id" title="lemma">tdecl_mono</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">x</span> <span class="id" title="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="step_invariant" class="idref" href="#step_invariant"><span class="id" title="lemma">step_invariant</span></a> (<a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a>: <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:51"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:51"><span class="id" title="variable">st</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsat</span> [<span class="id" title="var">Hcur</span> <span class="id" title="var">Hdone</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hsat</span>:= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="RC.Reasoning.html#step_preserves_state_saturation"><span class="id" title="lemma">step_preserves_state_saturation</span></a> <span class="id" title="var">st</span> <span class="id" title="var">Hsat</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hcur</span>:= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="RC.Reasoning.html#step_preserves_cursor"><span class="id" title="lemma">step_preserves_cursor</span></a> <span class="id" title="var">st</span> <span class="id" title="var">Hcur</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hdr</span>:= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="RC.Reasoning.html#step_preserves_done_related"><span class="id" title="lemma">step_preserves_done_related</span></a> <span class="id" title="var">st</span> <span class="id" title="var">Hdone</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="steps_n_invariant" class="idref" href="#steps_n_invariant"><span class="id" title="lemma">steps_n_invariant</span></a> (<a id="st:52" class="idref" href="#st:52"><span class="id" title="binder">st</span></a>: <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:52"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="k:53" class="idref" href="#k:53"><span class="id" title="binder">k</span></a>, <a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#steps_n"><span class="id" title="definition">steps_n</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#k:53"><span class="id" title="variable">k</span></a> <a class="idref" href="RC.Reasoning.html#st:52"><span class="id" title="variable">st</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( @<a class="idref" href="RC.Iteration.html#prove_invariant"><span class="id" title="lemma">Iteration.prove_invariant</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Reasoning.html#step_invariant"><span class="id" title="lemma">step_invariant</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="final_state_invariant" class="idref" href="#final_state_invariant"><span class="id" title="lemma">final_state_invariant</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= <a class="idref" href="RC.Reasoning.html#initial_state_is_invariant"><span class="id" title="lemma">initial_state_is_invariant</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="RC.Reasoning.html#steps_n_invariant"><span class="id" title="lemma">steps_n_invariant</span></a> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab167"></a><h1 class="section">A successful final state is a fixed point for step</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="fixed_final" class="idref" href="#fixed_final"><span class="id" title="lemma">fixed_final</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Iteration.html#fixed_max_loop"><span class="id" title="lemma">fixed_max_loop</span></a> <span class="id" title="var">_</span> (<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#measure"><span class="id" title="definition">measure</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RC.Compile.html#step_decreasing"><span class="id" title="lemma">step_decreasing</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="step_noop" class="idref" href="#step_noop"><span class="id" title="lemma">step_noop</span></a> (<a id="st:54" class="idref" href="#st:54"><span class="id" title="binder">st</span></a>: <a class="idref" href="RC.Compile.html#state"><span class="id" title="record">state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#st:54"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Reasoning.html#st:54"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RC.Compile.html#the_pr"><span class="id" title="projection">the_pr</span></a> <a class="idref" href="RC.Reasoning.html#st:54"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#NoneE"><span class="id" title="constructor">NoneE</span></a> <a class="idref" href="RC.Reasoning.html#s:55"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="RC.Compile.html#tr_todo"><span class="id" title="projection">tr_todo</span></a> <a class="idref" href="RC.Reasoning.html#st:54"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">the_pr</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tr_todo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">s</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">tr_todo</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= <a class="idref" href="RC.ListUtil.html#list_cycle"><span class="id" title="lemma">list_cycle</span></a> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tr_todo_of_final" class="idref" href="#tr_todo_of_final"><span class="id" title="lemma">tr_todo_of_final</span></a> <a id="pr:56" class="idref" href="#pr:56"><span class="id" title="binder">pr</span></a>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#pr:56"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#tr_todo"><span class="id" title="projection">tr_todo</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span>:= <a class="idref" href="RC.Reasoning.html#fixed_final"><span class="id" title="lemma">fixed_final</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span>:= @<a class="idref" href="RC.Reasoning.html#step_noop"><span class="id" title="lemma">step_noop</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span> | <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">n1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Q</span>]. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tr_done_of_final" class="idref" href="#tr_done_of_final"><span class="id" title="lemma">tr_done_of_final</span></a> <a id="pr:57" class="idref" href="#pr:57"><span class="id" title="binder">pr</span></a>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#pr:57"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#tr_done"><span class="id" title="projection">tr_done</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span>:= <a class="idref" href="RC.Reasoning.html#final_state_invariant"><span class="id" title="lemma">final_state_invariant</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#invariant"><span class="id" title="definition">invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f1</span> [<span class="id" title="var">f2</span> <span class="id" title="var">f3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#cursor"><span class="id" title="definition">cursor</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#tr_todo_of_final"><span class="id" title="lemma">tr_todo_of_final</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pr_of_final" class="idref" href="#pr_of_final"><span class="id" title="lemma">pr_of_final</span></a> <a id="pr:58" class="idref" href="#pr:58"><span class="id" title="binder">pr</span></a>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compile"><span class="id" title="definition">compile</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#pr:58"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Compile.html#the_pr"><span class="id" title="projection">the_pr</span></a> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RC.Utilities.html#SomeE"><span class="id" title="constructor">SomeE</span></a> <a class="idref" href="RC.Reasoning.html#pr:58"><span class="id" title="variable">pr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#compile"><span class="id" title="definition">compile</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Compile.html#final_state"><span class="id" title="definition">final_state</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> ) <span class="id" title="var">eqn</span>:<span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="traces_line_up" class="idref" href="#traces_line_up"><span class="id" title="definition">traces_line_up</span></a> <a id="pr:59" class="idref" href="#pr:59"><span class="id" title="binder">pr</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#List_mapR"><span class="id" title="inductive">List_mapR</span></a> (<a class="idref" href="RC.Act.html#Act_mapR"><span class="id" title="inductive">Act_mapR</span></a> (<a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a> <a class="idref" href="RC.Reasoning.html#pr:59"><span class="id" title="variable">pr</span></a>)) <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:59"><span class="id" title="variable">pr</span></a>) .<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="compile_traces" class="idref" href="#compile_traces"><span class="id" title="lemma">compile_traces</span></a> <a id="pr:60" class="idref" href="#pr:60"><span class="id" title="binder">pr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compileR"><span class="id" title="inductive">compileR</span></a>  <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:60"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Reasoning.html#traces_line_up"><span class="id" title="definition">traces_line_up</span></a> <a class="idref" href="RC.Reasoning.html#pr:60"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.Reasoning.html#final_state_invariant"><span class="id" title="lemma">final_state_invariant</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a1</span> [<span class="id" title="var">a2</span> <span class="id" title="var">a3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.Compile.html#done_related"><span class="id" title="definition">done_related</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">a3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Reasoning.html#pr_of_final"><span class="id" title="lemma">pr_of_final</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h3</span>:= @<a class="idref" href="RC.Reasoning.html#tr_done_of_final"><span class="id" title="lemma">tr_done_of_final</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">H0</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
More convenient version using <span class="inlinecode"><a class="idref" href="RC.Proc.html#tl"><span class="id" title="inductive">tl</span></a></span> instad of <span class="inlinecode"><a class="idref" href="RC.Proc.html#tdecl_bound"><span class="id" title="definition">tdecl_bound</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="traces_line_up_tl" class="idref" href="#traces_line_up_tl"><span class="id" title="definition">traces_line_up_tl</span></a> <a id="pr:61" class="idref" href="#pr:61"><span class="id" title="binder">pr</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.ListUtil.html#List_mapR"><span class="id" title="inductive">List_mapR</span></a> (<a class="idref" href="RC.Act.html#Act_mapR"><span class="id" title="inductive">Act_mapR</span></a> (<a class="idref" href="RC.Proc.html#tl"><span class="id" title="inductive">tl</span></a> <a class="idref" href="RC.Reasoning.html#pr:61"><span class="id" title="variable">pr</span></a>)) <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> (<a class="idref" href="RC.Proc.html#prtrace"><span class="id" title="definition">prtrace</span></a> <a class="idref" href="RC.Reasoning.html#pr:61"><span class="id" title="variable">pr</span></a>) .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="compile_traces_tl" class="idref" href="#compile_traces_tl"><span class="id" title="lemma">compile_traces_tl</span></a> <a id="pr:62" class="idref" href="#pr:62"><span class="id" title="binder">pr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compileR"><span class="id" title="inductive">compileR</span></a>  <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#pr:62"><span class="id" title="variable">pr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Reasoning.html#traces_line_up_tl"><span class="id" title="definition">traces_line_up_tl</span></a> <a class="idref" href="RC.Reasoning.html#pr:62"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Reasoning.html#compile_traces"><span class="id" title="lemma">compile_traces</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RC.ListUtil.html#List_mapR_iff"><span class="id" title="lemma">List_mapR_iff</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Act.html#Act_mapR_iff"><span class="id" title="lemma">Act_mapR_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#tl_tdecl_iff"><span class="id" title="lemma">tl_tdecl_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="compile_saturated" class="idref" href="#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a id="pr:63" class="idref" href="#pr:63"><span class="id" title="binder">pr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.Compile.html#compileR"><span class="id" title="inductive">compileR</span></a> <a class="idref" href="RC.Reasoning.html#Reasoning.rl"><span class="id" title="variable">rl</span></a>  <a class="idref" href="RC.Reasoning.html#pr:63"><span class="id" title="variable">pr</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RC.SaturationLoop.html#saturated_pr"><span class="id" title="definition">saturated_pr</span></a> <a class="idref" href="RC.Reasoning.html#unv"><span class="id" title="abbreviation">unv</span></a> <a class="idref" href="RC.Reasoning.html#pr:63"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= <a class="idref" href="RC.Reasoning.html#final_state_invariant"><span class="id" title="lemma">final_state_invariant</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a1</span> [<span class="id" title="var">a2</span> <span class="id" title="var">a3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h2</span>:= @<a class="idref" href="RC.Reasoning.html#pr_of_final"><span class="id" title="lemma">pr_of_final</span></a> <span class="id" title="var">pr</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RC.Reasoning.html#Reasoning"><span class="id" title="section">Reasoning</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SatdClassInstance" class="idref" href="#SatdClassInstance"><span class="id" title="section">SatdClassInstance</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="SatdClassInstance.rl" class="idref" href="#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> : <a class="idref" href="RC.Role.html#Role"><span class="id" title="definition">Role</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="SatdClassInstance.unv" class="idref" href="#SatdClassInstance.unv"><span class="id" title="variable">unv</span></a> := (<a class="idref" href="RC.Role.html#Subterms_of_role"><span class="id" title="definition">Subterms_of_role</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="SatdClassInstance.pr" class="idref" href="#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>: <a class="idref" href="RC.Proc.html#Proc"><span class="id" title="definition">Proc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="SatdClassInstance.H" class="idref" href="#SatdClassInstance.H"><span class="id" title="variable">H</span></a> : <a class="idref" href="RC.Compile.html#compileR"><span class="id" title="inductive">compileR</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_pair_analyze" class="idref" href="#compile_pair_analyze"><span class="id" title="lemma">compile_pair_analyze</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_pair_analyze"><span class="id" title="definition">ax_pair_analyze</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#pairE_closed_then"><span class="id" title="lemma">pairE_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <span class="id" title="var">E</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">is_pair_exp</span> | [<span class="id" title="var">h11</span> <span class="id" title="var">h12</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#term_exp_in_proc_elim"><span class="id" title="lemma">term_exp_in_proc_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#term_exp_in_proc_elim"><span class="id" title="lemma">term_exp_in_proc_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_pair_analyze</span>: <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_decryption_keys" class="idref" href="#compile_decryption_keys"><span class="id" title="lemma">compile_decryption_keys</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_decryption_keys"><span class="id" title="definition">ax_decryption_keys</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span> <span class="id" title="var">le</span> <span class="id" title="var">ee</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#encrE_closed_then"><span class="id" title="lemma">encrE_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <span class="id" title="var">eE</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span> <span class="id" title="var">le</span> <span class="id" title="var">ee</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.SaturationLoop.html#encryptions_justified"><span class="id" title="definition">encryptions_justified</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="RC.Proc.html#Bind"><span class="id" title="constructor">Bind</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Term.html#En"><span class="id" title="constructor">En</span></a> <span class="id" title="var">p</span> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">le</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ee</span>) <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.SaturationLoop.html#encryption_justified"><span class="id" title="definition">encryption_justified</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">N</span> | <span class="id" title="var">Y</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lkd</span> [<span class="id" title="var">ekd</span> <span class="id" title="var">Q</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="RC.Term.html#inv"><span class="id" title="definition">inv</span></a> <span class="id" title="var">k</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">lkd</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">ekd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_decryption_keys</span>: <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_decryption" class="idref" href="#compile_decryption"><span class="id" title="lemma">compile_decryption</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_decryption"><span class="id" title="definition">ax_decryption</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">hnf</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span> <span class="id" title="var">le</span> <span class="id" title="var">ee</span> <span class="id" title="var">Hbt</span> <span class="id" title="var">He</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">kd</span> <span class="id" title="var">lkd</span> <span class="id" title="var">ekd</span> <span class="id" title="var">Hbk</span> <span class="id" title="var">Hinv</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
{<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#encrE_closed_then"><span class="id" title="lemma">encrE_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <span class="id" title="var">eE</span> <span class="id" title="var">p</span> <span class="id" title="var">k</span> <span class="id" title="var">le</span> <span class="id" title="var">ee</span> <span class="id" title="var">Hbt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">He</span> <span class="id" title="var">kd</span> <span class="id" title="var">lkd</span> <span class="id" title="var">ekd</span> <span class="id" title="var">Hbk</span> <span class="id" title="var">Hinv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="RC.Proc.html#term_exp_in_proc_elim"><span class="id" title="lemma">term_exp_in_proc_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_decryption</span>: <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_hash_check" class="idref" href="#compile_hash_check"><span class="id" title="lemma">compile_hash_check</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_hash_check"><span class="id" title="definition">ax_hash_check</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">lt</span> <span class="id" title="var">lh</span> <span class="id" title="var">et</span> <span class="id" title="var">eh</span> <span class="id" title="var">H1</span>  <span class="id" title="var">H3</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#hashChck_closed_then"><span class="id" title="lemma">hashChck_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>  <span class="id" title="var">hC</span> <span class="id" title="var">t</span> <span class="id" title="var">lh</span> <span class="id" title="var">lt</span> <span class="id" title="var">eh</span> <span class="id" title="var">et</span> <span class="id" title="var">H1</span> <span class="id" title="var">H3</span> ).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_hash_check</span>: <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_hash_justified" class="idref" href="#compile_hash_justified"><span class="id" title="lemma">compile_hash_justified</span></a>: <a class="idref" href="RC.SaturationClass.html#ax_hash_justified"><span class="id" title="definition">ax_hash_justified</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">lh</span> <span class="id" title="var">eh</span> <span class="id" title="var">Hin</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hsh</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.SaturationLoop.html#hashes_justified"><span class="id" title="definition">hashes_justified</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hj</span> (<a class="idref" href="RC.Proc.html#Bind"><span class="id" title="constructor">Bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RC.Term.html#Hs"><span class="id" title="constructor">Hs</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">lh</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">eh</span>) <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="RC.SaturationLoop.html#hash_justified"><span class="id" title="definition">hash_justified</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lt</span> [<span class="id" title="var">et</span> <span class="id" title="var">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">lt</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">et</span>. <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_hash_justified</span>: <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_sameness" class="idref" href="#compile_sameness"><span class="id" title="lemma">compile_sameness</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_sameness"><span class="id" title="definition">ax_sameness</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">loc1</span> <span class="id" title="var">loc2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">He</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> .<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#sameChck_closed_then"><span class="id" title="lemma">sameChck_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">smeC</span>  <span class="id" title="var">t</span> <span class="id" title="var">loc1</span> <span class="id" title="var">loc2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">He</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RC.Decidability.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">loc2</span>)).<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Relations.Relation_Operators.html#rst_refl"><span class="id" title="constructor">rst_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_sameness</span>: <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_sortChck" class="idref" href="#compile_sortChck"><span class="id" title="lemma">compile_sortChck</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_sort_check"><span class="id" title="definition">ax_sort_check</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h1</span>:= @<a class="idref" href="RC.SaturationRules.html#strong_ax_sort_check"><span class="id" title="lemma">strong_ax_sort_check</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <span class="id" title="var">srtC</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">e'</span> [<span class="id" title="var">P1</span> [<span class="id" title="var">P2</span> <span class="id" title="var">P3</span>]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_sortChck</span>: <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compile_qotChck" class="idref" href="#compile_qotChck"><span class="id" title="lemma">compile_qotChck</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_qotChck"><span class="id" title="definition">ax_qotChck</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span> .<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.SaturationRules.html#qotChck_closed_then"><span class="id" title="lemma">qotChck_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qC</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_qotChck</span>: <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="compile_key_pairs" class="idref" href="#compile_key_pairs"><span class="id" title="lemma">compile_key_pairs</span></a> : <a class="idref" href="RC.SaturationClass.html#ax_key_pairs"><span class="id" title="definition">ax_key_pairs</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">Hp</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> [<span class="id" title="var">pI</span> [<span class="id" title="var">eE</span> [<span class="id" title="var">eI</span> [<span class="id" title="var">hI</span> [<span class="id" title="var">hC</span> [<span class="id" title="var">smeC</span> [<span class="id" title="var">srtC</span> [<span class="id" title="var">qC</span> <span class="id" title="var">iC</span> ]]]]]]]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.SaturationRules.html#kyprChck_closed_then"><span class="id" title="lemma">kyprChck_closed_then</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">compile_key_pairs</span>: <span class="id" title="var">core</span>.<br/>

<br/>

<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="pr_is_satd" class="idref" href="#pr_is_satd"><span class="id" title="instance">pr_is_satd</span></a> : @<a class="idref" href="RC.SaturationClass.html#Satd"><span class="id" title="class">Satd</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span>:= @<a class="idref" href="RC.Reasoning.html#compile_saturated"><span class="id" title="lemma">compile_saturated</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.pr"><span class="id" title="variable">pr</span></a> <a class="idref" href="RC.Reasoning.html#SatdClassInstance.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hs</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RC.Reasoning.html#SatdClassInstance"><span class="id" title="section">SatdClassInstance</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>